kind: UDSBundle
metadata:
  name: core-base
  version: 0.59.1
packages:
  - name: base
    repository: ghcr.io/defenseunicorns/packages/private/uds/core-base
    ref: 0.59.1-unicorn
    overrides:
      istio-controlplane:
        base:
          values:
            - path: enableCRDTemplates
              value: false
      istio-admin-gateway:
        gateway:
          variables:
            - name: ISTIOD_ADMIN_GW_SVC_ANNOTATIONS
              path: service.annotations
        uds-istio-config:
          variables:
            - name: ADMIN_TLS_CERT
              path: tls.cert
            - name: ADMIN_TLS_KEY
              path: tls.key
      istio-tenant-gateway:
        uds-istio-config:
          variables:
            - name: TENANT_TLS_CERT
              path: tls.cert
            - name: TENANT_TLS_KEY
              path: tls.key
      uds-operator-config:
        uds-operator-config:
          variables:
            - name: ALLOW_ALL_NS_EXEMPTIONS
              path: cluster.policy.allowAllNsExemptions
